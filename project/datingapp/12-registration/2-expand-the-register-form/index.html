<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Expand the register form</title>
  <meta property="og:title" content="Expand the register form" />
  <meta name="twitter:title" content="Expand the register form" />
  <meta name="description" content="Using Angular FormBuilder to configure a form.

The FormBuilder provides syntactic sugar that shortens creating instances of a FormControl, FormGroup, or FormArray. It reduces the amount of boilerplate needed to build complex forms.

">
  <meta property="og:description" content="Using Angular FormBuilder to configure a form.

The FormBuilder provides syntactic sugar that shortens creating instances of a FormControl, FormGroup, or FormArray. It reduces the amount of boilerplate needed to build complex forms.

">
  <meta name="twitter:description" content="Using Angular FormBuilder to configure a form.

The FormBuilder provides syntactic sugar that shortens creating instances of a FormControl, FormGroup, or FormArray. It reduces the amount of â€¦">
  <meta name="author" content="Gabriele Teotino"/>
  <link href='https://www.teosoft.it/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://www.teosoft.it/img/avatar-icon.png" />
  <meta name="twitter:image" content="https://www.teosoft.it/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="https://www.teosoft.it/project/datingapp/12-registration/2-expand-the-register-form/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Bluish capsule" />

  <meta name="generator" content="Hugo 0.36.1" />
  <link rel="canonical" href="https://www.teosoft.it/project/datingapp/12-registration/2-expand-the-register-form/" />
  <link rel="alternate" href="https://www.teosoft.it/index.xml" type="application/rss+xml" title="Bluish capsule">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://www.teosoft.it/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://www.teosoft.it/css/highlight.min.css" /><link rel="stylesheet" href="https://www.teosoft.it/css/codeblock.css" />



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-24994854-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://www.teosoft.it/">Bluish capsule</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/post">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Notes" href="/note">Notes</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent" href="javascript:void(0)">Projects</a>
              <div class="navlinks-children">
                
                  <a href="/project">Projects home</a>
                
                  <a href="/project/meccanici">Meccanici</a>
                
                  <a href="/project/datingapp">DatingApp</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Reviews" href="/review">Reviews</a>
            </li>
          
        

        

        
          <li>
            <a href="#modalSearch" data-toggle="modal" data-target="#modalSearch" style="outline: none;">
              <span class="hidden-sm hidden-md hidden-lg">Search</span> <span id="searchGlyph" class="glyphicon glyphicon-search"></span>
            </a>
          </li>
        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Bluish capsule" href="https://www.teosoft.it/">
            <img class="avatar-img" src="https://www.teosoft.it/img/avatar-icon.png" alt="Bluish capsule" />
          </a>
        
      </div>
    </div>

  </div>
</nav>



  <div id="modalSearch" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Search Bluish capsule</h4>
        </div>
        <div class="modal-body">
          <gcse:search></gcse:search>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="project-heading">
              <h1>Expand the register form</h1>
                
                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Using Angular <a href="https://angular.io/api/forms/FormBuilder">FormBuilder</a> to configure a form.</p>

<p>The FormBuilder provides syntactic sugar that shortens creating instances of a FormControl, FormGroup, or FormArray. It reduces the amount of boilerplate needed to build complex forms.</p>

<p></p>

<h2 id="move-to-formbuilder">Move to FormBuilder</h2>

<p>Open <strong>register.component.ts</strong> and add a new DI for <em>FormBuilder</em>. Then we move the <em>FormGroup</em> initialization from <strong>ngInit</strong> to a new method <strong>createRegistrationForm</strong> and instead of actually initialize the classes we use configuration on the <em>FormBuilder</em></p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="p">...</span>
<span class="kr">constructor</span><span class="p">(</span>
  <span class="kr">private</span> <span class="nx">auth</span>: <span class="kt">AuthService</span><span class="p">,</span>
  <span class="kr">private</span> <span class="nx">alertify</span>: <span class="kt">AlertifyService</span><span class="p">,</span>
  <span class="kr">private</span> <span class="nx">fb</span>: <span class="kt">FormBuilder</span>
<span class="p">)</span> <span class="p">{}</span>

<span class="nx">ngOnInit() {</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">createRegistrationForm</span><span class="p">();</span>
<span class="p">}</span>

<span class="kr">private</span> <span class="nx">createRegistrationForm</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">registerForm</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">fb</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span>
    <span class="p">{</span>
      <span class="nx">username</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">],</span>
      <span class="nx">password</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">,</span>
          <span class="nx">Validators</span><span class="p">.</span><span class="nx">minLength</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span>
          <span class="nx">Validators</span><span class="p">.</span><span class="nx">maxLength</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="nx">confirmPassword</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="nx">validator</span>: <span class="kt">this.passwordMatchValidator</span> <span class="p">}</span>
  <span class="p">);</span>
<span class="p">}</span>
<span class="p">...</span></code></pre></div>
<p>Test the application: all the form functinoality is as it was before.</p>

<h2 id="adding-new-fields">Adding new fields</h2>

<p>Now add some fields to the form. For the moment the date is initialized to null and we initialize the radio button for gender so that no null value is possible.</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="kr">private</span> <span class="nx">createRegistrationForm</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">registerForm</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">fb</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span>
    <span class="p">{</span>
      <span class="nx">gender</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;male&#39;</span><span class="p">],</span>
      <span class="nx">username</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">],</span>
      <span class="nx">knownAs</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">],</span>
      <span class="nx">dateOfBirth</span><span class="o">:</span> <span class="p">[</span><span class="kc">null</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">],</span>
      <span class="nx">city</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">],</span>
      <span class="nx">country</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">],</span>
      <span class="nx">password</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="p">[</span>
          <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">,</span>
          <span class="nx">Validators</span><span class="p">.</span><span class="nx">minLength</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span>
          <span class="nx">Validators</span><span class="p">.</span><span class="nx">maxLength</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="p">]</span>
      <span class="p">],</span>
      <span class="nx">confirmPassword</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="nx">validator</span>: <span class="kt">this.passwordMatchValidator</span> <span class="p">}</span>
  <span class="p">);</span>
<span class="p">}</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">...
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-group&#34;</span><span class="p"></span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&#34;gender&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;control-label&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;margin-right: 10px;&#34;</span><span class="p"></span><span class="p">&gt;</span>I am a:<span class="p">&lt;</span><span class="p">/</span><span class="nt">label</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&#34;&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;radio-inline&#34;</span><span class="p"></span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;radio&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;gender&#34;</span> <span class="na">value</span><span class="o">=</span><span class="s">&#34;male&#34;</span><span class="p"></span><span class="p">&gt;</span>Male
  <span class="p">&lt;</span><span class="p">/</span><span class="nt">label</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&#34;&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;radio-inline&#34;</span><span class="p"></span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;radio&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;gender&#34;</span> <span class="na">value</span><span class="o">=</span><span class="s">&#34;female&#34;</span><span class="p"></span><span class="p">&gt;</span>Female
  <span class="p">&lt;</span><span class="p">/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">&gt;</span>
...
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-group&#34;</span> <span class="err">[</span><span class="na">ngClass</span><span class="err">]=&#34;{&#39;</span><span class="na">has-error</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">registerForm</span><span class="err">.</span><span class="na">get</span><span class="err">(&#39;</span><span class="na">knownAs</span><span class="err">&#39;).</span><span class="na">errors</span> <span class="err">&amp;&amp;</span> <span class="na">registerForm</span><span class="err">.</span><span class="na">get</span><span class="err">(&#39;</span><span class="na">knownAs</span><span class="err">&#39;).</span><span class="na">touched</span><span class="err">}&#34;</span><span class="p"></span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Known as&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-control&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;knownAs&#34;</span><span class="p"></span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;help-block&#34;</span> <span class="err">*</span><span class="na">ngIf</span><span class="o">=</span><span class="s">&#34;registerForm.get(&#39;knownAs&#39;).hasError(&#39;required&#39;) &amp;&amp; registerForm.get(&#39;knownAs&#39;).touched&#34;</span><span class="p"></span><span class="p">&gt;</span>Known as is required<span class="p">&lt;</span><span class="p">/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-group&#34;</span> <span class="err">[</span><span class="na">ngClass</span><span class="err">]=&#34;{&#39;</span><span class="na">has-error</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">registerForm</span><span class="err">.</span><span class="na">get</span><span class="err">(&#39;</span><span class="na">dateOfBirth</span><span class="err">&#39;).</span><span class="na">errors</span> <span class="err">&amp;&amp;</span> <span class="na">registerForm</span><span class="err">.</span><span class="na">get</span><span class="err">(&#39;</span><span class="na">dateOfBirth</span><span class="err">&#39;).</span><span class="na">touched</span><span class="err">}&#34;</span><span class="p"></span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;date&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Date of birth&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-control&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;dateOfBirth&#34;</span><span class="p"></span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;help-block&#34;</span> <span class="err">*</span><span class="na">ngIf</span><span class="o">=</span><span class="s">&#34;registerForm.get(&#39;dateOfBirth&#39;).hasError(&#39;required&#39;) &amp;&amp; registerForm.get(&#39;dateOfBirth&#39;).touched&#34;</span><span class="p"></span><span class="p">&gt;</span>Date of birth as is required<span class="p">&lt;</span><span class="p">/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-group&#34;</span> <span class="err">[</span><span class="na">ngClass</span><span class="err">]=&#34;{&#39;</span><span class="na">has-error</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">registerForm</span><span class="err">.</span><span class="na">get</span><span class="err">(&#39;</span><span class="na">city</span><span class="err">&#39;).</span><span class="na">errors</span> <span class="err">&amp;&amp;</span> <span class="na">registerForm</span><span class="err">.</span><span class="na">get</span><span class="err">(&#39;</span><span class="na">city</span><span class="err">&#39;).</span><span class="na">touched</span><span class="err">}&#34;</span><span class="p"></span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;City&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-control&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;city&#34;</span><span class="p"></span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;help-block&#34;</span> <span class="err">*</span><span class="na">ngIf</span><span class="o">=</span><span class="s">&#34;registerForm.get(&#39;city&#39;).hasError(&#39;required&#39;) &amp;&amp; registerForm.get(&#39;city&#39;).touched&#34;</span><span class="p"></span><span class="p">&gt;</span>City is required<span class="p">&lt;</span><span class="p">/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-group&#34;</span> <span class="err">[</span><span class="na">ngClass</span><span class="err">]=&#34;{&#39;</span><span class="na">has-error</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">registerForm</span><span class="err">.</span><span class="na">get</span><span class="err">(&#39;</span><span class="na">country</span><span class="err">&#39;).</span><span class="na">errors</span> <span class="err">&amp;&amp;</span> <span class="na">registerForm</span><span class="err">.</span><span class="na">get</span><span class="err">(&#39;</span><span class="na">country</span><span class="err">&#39;).</span><span class="na">touched</span><span class="err">}&#34;</span><span class="p"></span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Country&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-control&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;country&#34;</span><span class="p"></span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;help-block&#34;</span> <span class="err">*</span><span class="na">ngIf</span><span class="o">=</span><span class="s">&#34;registerForm.get(&#39;country&#39;).hasError(&#39;required&#39;) &amp;&amp; registerForm.get(&#39;country&#39;).touched&#34;</span><span class="p"></span><span class="p">&gt;</span>Country is required<span class="p">&lt;</span><span class="p">/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">&gt;</span>
...</code></pre></div>
<p>Test that validation is working and that the validation errors are displayed correctly.</p>

<h2 id="datepicker">Datepicker</h2>

<p>The support for the <em>input</em> type <em>date</em> is not very good on all the browsers, see this reference table: <a href="https://caniuse.com/#search=date">caniuse.com</a>. Also the interface differs from browser to browser.</p>

<p>To keep things working and a similar user experience on all the browsers we add another extension from <em>Valor soft</em> the <a href="https://valor-software.com/ngx-bootstrap/#/datepicker">ngx-datepicker</a>.</p>

<p>Import in <strong>app.config.ts</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="p">...</span>
<span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
<span class="p">...</span>
  <span class="nx">BsDatepickerModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(),</span>
<span class="p">...</span>
<span class="p">],</span>
<span class="p">...</span></code></pre></div>
<p>Add the css int <strong>angular.json</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;styles&#34;</span><span class="err">:</span> <span class="p">[</span>
  <span class="err">...</span>
  <span class="s2">&#34;node_modules/ngx-bootstrap/datepicker/bs-datepicker.css&#34;</span><span class="p">,</span>
  <span class="s2">&#34;src/styles.css&#34;</span>
<span class="p">]</span><span class="err">,</span></code></pre></div>
<p>Restart <em>ng serve</em>.</p>

<p>Open the template <strong>register.component.html</strong> and change the <em>input</em> type from <em>date</em> to <em>text</em> and add the attribute <em>bsDatepicker</em>. Then we bind <em>bsConfig</em> to a property of our component (see below).</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Date of birth&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-control&#34;</span> <span class="na">bsDatepicker</span> <span class="err">[</span><span class="na">bsConfig</span><span class="err">]=&#34;</span><span class="na">bsConfig</span><span class="err">&#34;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&#34;dateOfBirth&#34;</span> <span class="p"></span><span class="p">&gt;</span></code></pre></div>
<p>Open <strong>register.component.ts</strong> and create a new property <strong>bsConfig</strong> and add some configuration.</p>
<div class="highlight"><pre class="chroma"><code class="language-typescript" data-lang="typescript"><span class="p">...</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">BsDatepickerConfig</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;ngx-bootstrap/datepicker&#39;</span><span class="p">;</span>
<span class="p">...</span>
<span class="nx">bsConfig</span>: <span class="kt">Partial</span><span class="o">&lt;</span><span class="nx">BsDatepickerConfig</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">containerClass</span><span class="o">:</span> <span class="s1">&#39;theme-dark-blue&#39;</span><span class="p">,</span> <span class="nx">maxDate</span>: <span class="kt">this.yesterday</span><span class="p">()</span> <span class="p">};</span>
<span class="p">...</span>
<span class="kr">private</span> <span class="nx">yesterday</span><span class="p">()</span><span class="o">:</span> <span class="nb">Date</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">yesterday</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
  <span class="nx">yesterday</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">yesterday</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">yesterday</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">...</span></code></pre></div>
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://www.teosoft.it/project/datingapp/12-registration/1-reactive-forms/" data-toggle="tooltip" data-placement="top" title="Reactive forms">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://www.teosoft.it/project/datingapp/12-registration/3-expand-api-registration/" data-toggle="tooltip" data-placement="top" title="Expand the api registration">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="https://github.com/gabrieleteotino" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://stackoverflow.com/users/2085504/deramko" title="StackOverflow">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="https://www.teosoft.it/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://www.teosoft.it">Gabriele Teotino</a>
            
          

          &nbsp;&bull;&nbsp;
          2018

          
            &nbsp;&bull;&nbsp;
            <a href="https://www.teosoft.it/">Bluish capsule</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.36.1</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://www.teosoft.it/js/main.js"></script>
<script src="https://www.teosoft.it/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="https://www.teosoft.it/js/load-photoswipe.js"></script>


<script>
  (function() {
    var cx = '005185449088889757369:5o44h-2knna';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>





  </body>
</html>

